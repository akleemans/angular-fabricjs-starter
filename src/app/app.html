<h1>Angular + FabricJS starter</h1>

<div class="canvas-container">
  <canvas #fabricCanvas id="fabric-canvas" width="800" height="400"></canvas>
</div>

@if (isDrawingNewPolygon) {
  <p><b>Double click to finish drawing Polygon.</b></p>
}

<div class="row">
  <span>Add new object: </span>
  <button (click)="addExampleShape('circle')" [disabled]="isDrawingNewPolygon">Add circle</button>
  <button (click)="addExampleShape('rectangle')" [disabled]="isDrawingNewPolygon">Add rectangle</button>
  <button (click)="addExampleShape('text')" [disabled]="isDrawingNewPolygon">Add text</button>
  <button (click)="addExampleShape('polygon')" [disabled]="isDrawingNewPolygon">Add polygon</button>
</div>

<div class="row">
  <button (click)="changeColor()" [disabled]="selectedObjects.length === 0 || isDrawingNewPolygon">Change fill color of selected object to:
  </button>
  <select name="colors" [(ngModel)]="activeColor">
    <option value="yellow">Yellow</option>
    <option value="purple">Purple</option>
    <option value="blue">Blue</option>
    <option value="black">Black</option>
    <option value="white">White</option>
  </select>
</div>

<div class="row">
  <button (click)="drawNewPolygon()" [disabled]="isDrawingNewPolygon">Draw new polygon</button>
  <button (click)="editPolygon()" [disabled]="!isPolygonSelected || isDrawingNewPolygon">Edit orange polygon (or double click on Polygon)</button>
  <button (click)="deleteObjects()" [disabled]="selectedObjects.length === 0 || isDrawingNewPolygon">Delete objects (or press 'd')</button>
</div>

<p>Current active objects: {{ selectedObjects.length === 0 ? 'None' : selectedObjects }}</p>

<p>Logs:</p>
<pre class="logs">{{ logs }}</pre>
